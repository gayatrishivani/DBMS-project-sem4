{% extends 'index.html' %}
{% load static %}

<!--
<html>
  <head>
    <meta charset="UTF-8" />
    <title></title>
    <script src="http://maps.google.com/maps/api/js?key=AIzaSyCe2otGPKiUf4Qq35MmOfDWHaQm-Cjtopw"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
      function calculateRoute(from, to) {
        // Center initialized to Naples, Italy
        var myOptions = {
          zoom: 10,
          center: new google.maps.LatLng(13.5232, 79.9982),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        // Draw the map
        var mapObject = new google.maps.Map(document.getElementById("map"), myOptions);

        var directionsService = new google.maps.DirectionsService();
        var directionsRequest = {
          origin: from ,
          destination: to,
          travelMode: google.maps.DirectionsTravelMode.DRIVING,

        };
        directionsService.route(
          directionsRequest,
          function(response, status)
          {
            if (status == google.maps.DirectionsStatus.OK)
            {
              new google.maps.DirectionsRenderer({
                map: mapObject,
                directions: response
              });
            }
            else
              $("#error").append("Unable to retrieve your route<br />");
          }
        );
      }

      $(document).ready(function() {
        calculateRoute($("#from").val(), $("#to").val());
      });
      document.write()
    </script>
    <style type="text/css">
      #map {
        width: 400px;
        height: 400px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    {% for item in mytrip %}

      {% if item.taxi_booking_details.user_booking == u %}

      {{ item.taxi_booking_details.from_location }}
      {{ item.taxi_booking_details.to_location }}
      {{ item.taxi_booking_details.date }}
      {{ item.taxi_booked.taxi_name }}
      {{ item.taxi_booked.taxi_num }}
      {{ item.taxi_booked.price }}
      {{ item.taxi_booked.active }}
      <a  href="{% url 'taxis:endtrip' item.auto_increment_id %}" role="button">endtrip</a>

      <form id="calculate-route" name="calculate-route" action="#" method="get">
          <input type="hidden" id="from" name="from"  value="{{ item.taxi_booking_details.from_location }}" placeholder="Type an address"   />
        <br>

        <input type="hidden" id="to" name="to" required="required" placeholder="Type an addresss" value="{{ item.taxi_booking_details.to_location }}"  />

      </form>
      <div id="map"></div>

      <p id="error"></p>

      {% endif %}

    {% endfor %}

<br>
<h3>cartrip</h3>
<div>
  {% for value in cartrip %}

    {% if value.booking_Details.user_booked == u %}

    {{ value.booking_Details.car_location }}
    {{ value.booking_Details.to_location }}
    {{ value.booking_Details.from_date }}
    {{ value.booking_Details.to_date }}
    {{ value.car_rented.user_rented }}
    <form id="calculate-route" name="calculate-route" action="#" method="get">
        <input type="hidden" id="from" name="from"  value="{{ value.booking_Details.car_location }}" placeholder="Type an address"   />
      <br>

      <input type="hidden" id="to" name="to" required="required" placeholder="Type an addresss" value="{{ value.booking_Details.to_location }}"  />

    </form>
    <div id="map"></div>

    <p id="error"></p>

    {% endif %}

  {% endfor %}
</div>

  </body>
</html> -->

{% block body_block %}


<div style="background-image: url('{% static 'images/2.jpeg' %}');background-size:cover;background-repeat:no-repeat;height: 420px;">
  <a href="{% url 'taxis:your_trip' %}" style="position:absolute;top:470px;left:300px;font-size:50px;"class="btn btn-info">My trips</a>
  <a href="#" style="position:absolute;top:470px;left:670px;font-size:50px;"class="btn btn-info">My trips</a>
  <a href="#" style="position:absolute;top:470px;right:300px;font-size:50px;"class="btn btn-info">My trips</a>
</div>
<br>


{% endblock body_block %}
